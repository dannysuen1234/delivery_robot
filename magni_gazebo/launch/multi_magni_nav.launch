<?xml version="1.0" ?>

<launch>

<arg name="map_file" default="$(find magni_nav)/map/w311_virtual_world.yaml" doc="Path to a map .yaml file (required)." />
  <arg name="virtual_walls_map_file" default="$(arg map_file)" doc="Path to a virtual walls map .yaml file (optional)." />
  <arg name="with_virtual_walls" default="false" />

<include file="$(find magni_gazebo)/launch/multi_robot_world.launch">
</include>

<include file="$(find magni_nav)/launch/amcl.launch">
<arg name="initial_pose_x" value ="-8.0" />
<arg name="initial_pose_y" value ="-7.0" />
<arg name="tf_prefix" value ="magni_1" />
</include>

<include file="$(find magni_nav)/launch/amcl.launch">
<arg name="initial_pose_x" value ="-8.0" />
<arg name="initial_pose_y" value ="-8.0" />
<arg name="tf_prefix" value ="magni_2" />
</include>


<include file="$(find magni_nav)/launch/start_planner.launch">
 <arg name="prefix" value ="magni_1/" /> 
</include>

<include file="$(find magni_nav)/launch/start_planner.launch">
 <arg name="prefix" value ="magni_2/" /> 
</include>

<include file="$(find magni_nav)/launch/start_maps.launch">
      <arg name="map_file" value="$(arg map_file)" />
      <arg name="virtual_walls_map_file" value="$(arg virtual_walls_map_file)" />
      <arg name="with_virtual_walls" value="$(arg with_virtual_walls)" />
</include>


<!-- this part for rviz -->

<node ns="magni_1" type = "rviz" name = "rviz" pkg="rviz" args="-d $(find magni_nav)/rviz/navigation_1.rviz" />
<node ns="magni_2" type = "rviz" name = "rviz" pkg="rviz" args="-d $(find magni_nav)/rviz/navigation_2.rviz" />



</launch>
